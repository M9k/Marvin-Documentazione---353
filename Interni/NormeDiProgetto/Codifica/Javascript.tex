\documentclass[../ProcessiPrimari.tex]{subfiles}

\begin{document}	
	\subsubsection{JavaScript}
	In questa sotto-sezione vengono elencate le norme tratte dal \textbf{Airbnb JavaScript Style Guide}\footnote{\nURI{https://github.com/airbnb/javascript}}; il controllo delle norme è implementato direttamente all'interno dell'IDE Webstorm tramite una apposita procedura seguita da tutti i membri del team\footnote{\nURI{https://github.com/doasync/eslint-config-airbnb-standard}}.\\
	La versione dello standard ECMA seguito è la 2017\footnote{\nURI{https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf}}.
	
	\paragraph*{Indentazione 1: }
	vanno utilizzati due (2) spazi per ogni livello di indentazione.
	
	\begin{center}{
	\begin{minipage}{4cm}
		{\begin{center}SI\end{center}}
		\begin{Verbatim}[frame=single]
function() {
..let name;
}
		\end{Verbatim}
	\end{minipage}
	\hfil
	\begin{minipage}{4cm}
		{\begin{center}NO\end{center}}
		\begin{Verbatim}[frame=single]
function() {
....let name;
}
		\end{Verbatim}
	\end{minipage}
	}
	\end{center}
	
	\paragraph*{Indentazione 2: }
	bisogna mettere uno (1) spazio prima della graffa principale.	
	\begin{center}{	
	\begin{minipage}{4cm}
		{\begin{center}SI\end{center}}
		\begin{Verbatim}[frame=single]
function() {
..let name;
}
		\end{Verbatim}
	\end{minipage}
	\hfil
	\begin{minipage}{4cm}
		{\begin{center}NO\end{center}}
		\begin{Verbatim}[frame=single]
function(){
..let name;
}
		\end{Verbatim}
	\end{minipage}
	}
	\end{center}	
\paragraph*{Indentazione 3: }
va inserito uno (1) spazio prima della parentesi di apertura degli statement di controllo (\texttt{if}, \texttt{while} etc.). \\
Non va inserito alcuno spazio prima della lista degli argomenti nelle chiamate di funzioni e nelle dichiarazioni.\\

\begin{center}{
\begin{minipage}{5cm}
{\begin{center}SI\end{center}}
\begin{Verbatim}[frame=single]
function fight() {
  console.log('353');
}
\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{5cm}
{\begin{center}NO\end{center}}
\begin{Verbatim}[frame=single]
function fight () {
  console.log ('353');
}
\end{Verbatim}
\end{minipage}
}
\end{center}


\paragraph*{Spazi: }
è vietato l'utilizzo di tabulazioni, che devono essere necessariamente sostituite da spazi. Al fine di assicurare il rispetto di questa regola si consiglia di configurare adeguatamente il proprio editor o IDE.

\paragraph*{Capo riga: }
tutti i capo riga dovranno essere effettuati mediante l'uso di LF (line feed, 0xA), come definito dallo standard UNIX, CRLF (carriage return line feed, 0xDA) non è ammissibile. Gli utenti che utilizzano il sistema operativo Microsoft Windows dovranno fare attenzione ad impostare correttamente l'editor Webstorm seguendo la guida ufficiale\footnote{\nURI{https://www.jetbrains.com/help/webstorm/configuring-line-separators.html}}.


\paragraph*{Punto e virgola: }
non è stata utilizzata la nuova funzionalità "ASI" o "Automatic Semicolon Insertion" in quanto introdotta nello standard \citGloss{ECMA} 2018, mentre questo progetto fa riferimento allo standard 2017.\\
L'introduzione di ASI consentirebbe l'omissione del punto e virgola alla fine di una dichiarazione nel caso l'interprete riesca a dedurre autonomamente la fine dell'istruzione.
%TODO va bene?

\paragraph*{Linee vuote: }
bisogna lasciare una riga vuota dopo blocchi e prima di un nuovo statement.

\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
if (foo) {
  return bar;
}

return baz;
	
//oppure 
	
var obj = {
  foo: function() {
  },
	
  bar: function() {
  }
};
\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
if (foo) {
  return bar;
 }
return baz;
	
//oppure
	
var obj = {
  foo: function() {
  },
  bar: function() {
  }
};
return obj;
	
	\end{Verbatim}
\end{minipage}
}
\end{center}
\paragraph{Parentesizzazione 1:}i blocchi di codice multi-riga vanno racchiusi tra parentesi graffe.
I blocchi di codice con una sola riga possono essere scritti senza parentesi, ma devono essere scritti sulla stessa riga.\\
\begin{center}{
\begin{minipage}{6.5cm}
{\begin{center}SI\end{center}}
\begin{Verbatim}[frame=single]
if (test) return false;

if (test) {
  return false;
}

function() {
  return false;
}
\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6.5cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
if (test)
  return false;
  
function() { return false; }




  
	\end{Verbatim}
\end{minipage}
}
\end{center}
\paragraph{Parentesizzazione 2:} le parantesi graffe devono iniziare nella stessa riga del codice, non in quella sottostante.

\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
if (test) {
  \\..
  if(test2) {
  \\..
    if(test3) {
	  \\..
    }
  }
}

	\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
if (test) 
{
  if(test2)
  {
    if(test3)
    {
      ...
    }
  }
}
	\end{Verbatim}
\end{minipage}
}
\end{center}	
\paragraph{Parentesizzazione 3:} in caso di blocchi multi-riga con \texttt{if} e \texttt{else}, è necessario mettere \texttt{else} nella stessa riga della parentesi graffa che chiude il blocco \texttt{if}.

\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
if (test) {
  thing1();
  thing2();
} else {
  thing3();
}
	
	\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
if (test) {
  thing1();
  thing2();
}
  else {
  thing3();
}
	\end{Verbatim}
\end{minipage}
}
\end{center}

\paragraph{Commenti:} utilizzare \texttt{//} per una singola riga di commento, la quale deve essere inserita su una nuova riga sopra il soggetto del commento. Inoltre bisogna lasciare la riga precedente al commento vuota.

\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
// comment
var active = true;

function getType() {
  console.log('353');

  // comment
  var type = this._type;

  return type;
}
	\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6.5cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
var active = true; // comment

function getType() {
  console.log('353');
  // comment
  var type = this._type;

  return type;
}


	\end{Verbatim}
\end{minipage}
}
\end{center}

\paragraph{Variabili 1:}una variabile deve sempre essere dichiarata usando \texttt{var} o \texttt{let}. In caso contrario le variabili dichiarate avranno una visibilità globale, pratica da evitare assolutamente per non inquinare lo spazio dei nomi.
\begin{center}{\begin{minipage}{8cm}
{\begin{center}SI\end{center}}
\begin{Verbatim}[frame=single]
var superPower = new SuperPower();
\end{Verbatim}
\end{minipage}
\vskip 1em
\begin{minipage}{8cm}
{\begin{center}NO\end{center}}
\begin{Verbatim}[frame=single]
superPower = new SuperPower();
\end{Verbatim}
\end{minipage}
}
\end{center}


\paragraph{Variabili 2:}utilizzare una sola dichiarazione \texttt{var} o \texttt{let} per ogni variabile. È più facile aggiungere dichiarazioni di variabili in questa maniera e non si corre il rischio di scambiare un punto e virgola \texttt{";"} con una virgola \texttt{",}". Inoltre, le variabili non inizializzate immediatamente vanno sempre dichiarate per ultime.

\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
var objects = getItems();
var cond = true;
var stranger = 'things';
var notAssign;
	\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6.5cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
var objects = getItems(),
	cond = true,
	notAssign,
	stranger = 'things';
	\end{Verbatim}
\end{minipage}
}
\end{center}

\paragraph{Variabili 3:}le variabili vanno assegnate o dichiarate solo quando si ha la necessità di usarle, in modo da evitare operazioni inutili.
\begin{center}{
\begin{minipage}{6cm}
	{\begin{center}SI\end{center}}
	\begin{Verbatim}[frame=single]
function cName(hasName) {
  if (hasName === 'test') {
    return false;
  }

  const name = getName();

  if (name === 'test') {
    this.setName('');
    return false;
  }

  return name;
}
	\end{Verbatim}
\end{minipage}
\hfil
\begin{minipage}{6cm}
	{\begin{center}NO\end{center}}
	\begin{Verbatim}[frame=single]
function cName(hasName) {
  const name = getName();

  if (hasName === 'test') {
    return false;
  }

  if (name === 'test') {
    this.setName('');
    return false;
  }

  return name;
}	
\end{Verbatim}
\end{minipage}
}
\end{center}
\paragraph{Nomi 1:}vietato utilizzare nomi delle variabili o delle funzioni con una singola lettera.
\begin{center}{
		\begin{minipage}{4.5cm}
			{\begin{center}SI\end{center}}
			\begin{Verbatim}[frame=single]
function query() {
  // ...
}
			\end{Verbatim}
		\end{minipage}
		\hfil
		\begin{minipage}{4.5cm}
			{\begin{center}NO\end{center}}
			\begin{Verbatim}[frame=single]
function q() {
  // ...
}
		\end{Verbatim}
		\end{minipage}
	}
\end{center}
	\paragraph*{Nomi 2: }
utilizzare lo stile \texttt{mixedCase} per i nomi delle variabili, delle funzioni e delle istanze. Da evitare l'utilizzo degli underscore nei nomi.
\begin{center}{\begin{minipage}{8cm}
			{\begin{center}SI\end{center}}
			\begin{Verbatim}[frame=single]
const thisIsMyObject = {};
var myVar = "Hello";
function thisIsMyFunction() {}
		\end{Verbatim}
	\end{minipage}
\vskip 1em
\begin{minipage}{8cm}
{\begin{center}NO\end{center}}
\begin{Verbatim}[frame=single]
const OBJEcttsssss = {};
const this_is_my_object = {};
var _myVar_= "Hello";
function c() {}
\end{Verbatim}
\end{minipage}
}
\end{center}
\paragraph{Nomi 3:}utilizzare lo stile \texttt{CapWords} per i nomi delle classi.
\begin{center}{
		\begin{minipage}{6.5cm}
			{\begin{center}SI\end{center}}
			\begin{Verbatim}[frame=single]
class User {
  constructor(options) {
    this.name = options.name;
  }
}
			\end{Verbatim}
		\end{minipage}
		\hfil
		\begin{minipage}{6.5cm}
			{\begin{center}NO\end{center}}
			\begin{Verbatim}[frame=single]
class user {
  constructor(options) {
    this.name = options.name;
  }
}
			\end{Verbatim}
		\end{minipage}
	}
\end{center}
\end{document}